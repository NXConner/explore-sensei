# Pavement Performance Suite â€” Environment Blueprint
# ------------------------------------------------------------------
# Copy to .env.local (dev), .env.test (integration), or .env.production.
# Production deployments should hydrate secrets via the secrets manager
# defined in config/secrets-manager.example.json. Values that begin with
# `vault:` indicate the authoritative secret store path.

# --- Runtime Context ---------------------------------------------------------
ENVIRONMENT=development               # development | test | staging | production
NODE_ENV=development
VITE_APP_ENV=development
VITE_DEPLOYMENT_REGION=us-east-1
VITE_RELEASE_VERSION=0.0.0-local
VITE_COMMIT_SHA=local-dev
APP_TIMEZONE=America/New_York

# --- Supabase & Database -----------------------------------------------------
# Local stack defaults assume `supabase start` (Docker) is running.
SUPABASE_VAULT_PATH=vault:pps/app/development/supabase
VITE_SUPABASE_URL=http://127.0.0.1:54321
VITE_SUPABASE_ANON_KEY=vault:pps/app/development/supabase#anon_key
SUPABASE_SERVICE_ROLE_KEY=vault:pps/app/development/supabase#service_role_key
SUPABASE_JWT_SECRET=vault:pps/app/development/supabase#jwt_secret
SUPABASE_SITE_URL=http://localhost:5173
DATABASE_URL=postgres://supabase:supabase@localhost:54322/postgres
SUPABASE_DB_SSL=disable
SUPABASE_STORAGE_BUCKET=pps-artifacts

# --- Email / SMTP ------------------------------------------------------------
SUPABASE_SMTP_ADMIN_EMAIL=devops@exploresensei.com
SUPABASE_SMTP_HOST=mailhog
SUPABASE_SMTP_PORT=1025
SUPABASE_SMTP_USER=vault:pps/app/development/smtp#username
SUPABASE_SMTP_PASS=vault:pps/app/development/smtp#password

# --- Feature Flags & HUD Controls -------------------------------------------
DIVISION_THEME_ENABLED=true
DIVISION_HUD_ENABLED=true
TACTICAL_MAP_ENABLED=true
MISSION_PORTAL_ALPHA=false
AI_INTEL_LABS=false
VITE_DEFAULT_THEME_PRESET=division-shd
VITE_DEFAULT_WALLPAPER=mission-grid
VITE_THEME_ALLOW_CUSTOM_UPLOADS=true
VITE_THEME_WALLPAPER_STORAGE=supabase
VITE_THEME_ASSET_BASE_URL=/wallpapers

# --- Mapping & Spatial Providers --------------------------------------------
MAPS_VAULT_PATH=vault:pps/app/development/maps
VITE_GOOGLE_MAPS_API_KEY=vault:pps/app/development/maps#google_maps_primary
VITE_GOOGLE_MAPS_API_KEY_ALT=vault:pps/app/development/maps#google_maps_backup
VITE_MAPBOX_ACCESS_TOKEN=vault:pps/app/development/maps#mapbox_token
VITE_MAPTILER_API_KEY=vault:pps/app/development/maps#maptiler_token
VITE_MAPLIBRE_STYLE_URL=https://basemaps.cartocdn.com/gl/positron-gl-style/style.json
VITE_BASEMAP_PMTILES_URL=
VITE_PARCELS_TILES_TEMPLATE=https://tiles.patrickcountyva.gov/arcgis/rest/services/Parcels/MapServer/tile/{z}/{y}/{x}
VITE_MAPS_GEOCODER_PROVIDER=google          # google | nominatim
VITE_MAPS_ROUTING_PROVIDER=google           # google | osrm
VITE_MAPS_ELEVATION_PROVIDER=open_elevation # google | open_elevation
VITE_USGS_IMAGERY_WMS_URL=https://basemap.nationalmap.gov/arcgis/services/USGSImageryOnly/MapServer/WMSServer?
VITE_USDA_NAIP_WMS_URL=https://gis.apfo.usda.gov/arcgis/services/NAIP/MapServer/WMSServer?
VITE_PATRICK_WMS_URL=https://maps.patrickcountyva.gov/arcgis/services/Hosted/Aerial_Imagery/MapServer/WMSServer?
VITE_PATRICK_ESRI_FEATURE_URL=https://services9.arcgis.com/bYb6dMqlk277IeYv/ArcGIS/rest/services/PatrickCountyParcels/FeatureServer/0

# --- Observability & Telemetry ----------------------------------------------
OBS_VAULT_PATH=vault:pps/app/development/observability
VITE_OTEL_EXPORT_URL=https://otel.exploresensei.com/v1/traces
VITE_OTEL_EXPORT_API_KEY=vault:pps/app/development/observability#otel_token
VITE_TELEMETRY_ENVIRONMENT=development
VITE_LOG_SINK_URL=https://logs.exploresensei.com/collect
VITE_LOG_SINK_KEY=vault:pps/app/development/observability#log_sink_key
VITE_LOG_CORRELATION_ID=DEV-LOCAL

# --- Weather & Risk ---------------------------------------------------------
WEATHER_VAULT_PATH=vault:pps/app/development/weather
VITE_OPENWEATHER_API_KEY=vault:pps/app/development/weather#openweather
VITE_WEATHER_ALERT_WEBHOOK=

# --- AI & Analytics ---------------------------------------------------------
AI_VAULT_PATH=vault:pps/app/development/ml
VITE_AI_SERVICE_URL=https://api.exploresensei.com/ai
VITE_AI_SERVICE_KEY=vault:pps/app/development/ml#ai_service_key
VITE_VALID_API_KEYS=sk-local-ai-service-key,sk-field-scanner-key
VITE_MLAPI_URL=http://127.0.0.1:5001
VITE_ASPHALT_ML_URL=http://127.0.0.1:5001
VITE_GAMIFY_ENABLED=true
VITE_FEATURE_FLAGS=ai_estimate_autofill,gamification_v2,observability_tracing
LOVABLE_API_KEY=vault:pps/app/development/ml#lovable_api_key

# --- Notifications & Integrations ------------------------------------------
VITE_MISSION_ALERT_WEBHOOK=https://alerts.exploresensei.com/api/hooks/mission-alerts-dev
VITE_MISSION_SILENT_HOURS=22:00-06:00
SLACK_WEBHOOK_URL=
MICROSOFT_TEAMS_WEBHOOK_URL=

# --- Compliance & Auditing --------------------------------------------------
COMPLIANCE_LOG_BUCKET=pps-compliance-artifacts
DATA_RETENTION_DAYS=365

# --- Optional Performance Tweaks -------------------------------------------
VITE_MAPLIBRE_PM_CACHE_SIZE=256
VITE_MAPTILER_REGION_HINT=us-east
